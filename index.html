<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Documentation for the QUantitative Imaging Tools">
        
        <link rel="canonical" href="https://spinicist.github.io/QUIT/">
        <link rel="shortcut icon" href="./img/favicon.ico">
        <title>QUIT</title>
        <link href="./css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="./css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="./js/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/highlight.pack.js"></script> 
    </head>

    <body class="homepage">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href=".">QUIT</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li class="active">
                        <a href=".">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="Relaxometry/">Relaxometry</a>
</li>
                            
<li >
    <a href="SSFP/">SSFP</a>
</li>
                            
<li >
    <a href="MT/">Magnetization Transfer</a>
</li>
                            
<li >
    <a href="Perfusion/">Perfusion</a>
</li>
                            
<li >
    <a href="Susceptibility/">Susceptibility</a>
</li>
                            
<li >
    <a href="Stats/">Statistics</a>
</li>
                            
<li >
    <a href="Utilities/">Utilities</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="Developer/">Developer</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li class="disabled">
                        <a rel="next" >
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="Relaxometry/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/spinicist/QUIT/edit/master/docs/index.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#welcome">Welcome</a></li>
            <li><a href="#installation">Installation</a></li>
            <li><a href="#compile-from-source">Compile From Source</a></li>
            <li><a href="#general-usage">General Usage</a></li>
            <li><a href="#file-formats">File Formats</a></li>
            <li><a href="#scripting">Scripting</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p><img alt="Logo" src="./logo.png" /></p>
<h1 id="welcome">Welcome</h1>
<p>Welcome to the QUantitative Imaging Tools, a collection of C++ programs for analysing quantitative MR images. QUIT is divided into several modules, each of which contains numerous programs for processing images. The modules are:</p>
<ul>
<li><a href="Relaxometry/">Relaxometry</a></li>
<li><a href="Perfusion/">Perfusion</a></li>
<li><a href="MT/">Magnetization Transfer</a></li>
<li><a href="SSFP/">Steady-State Free-Precession</a></li>
<li><a href="Susceptibility/">Susceptibility</a></li>
<li><a href="Stats/">Stats / GLM</a></li>
<li><a href="Utilities/">Utilities</a></li>
</ul>
<h2 id="installation">Installation</h2>
<p>Compiled binaries are provided for Mac and Linux and can be found on the github releases page. These are provided in <code>.tar.gz</code> archive. After extraction, you need to ensure that the binaries are accessible via your <code>PATH</code> variable. Either edit your shell profile (e.g. <code>.bashrc</code>) and add the QUIT directory your <code>PATH</code> variable there, or copy the files to somewhere that will be on your path, e.g. <code>/usr/local/bin</code> (this will likely require <code>sudo</code> permissions).</p>
<h2 id="compile-from-source">Compile From Source</h2>
<p>See the <a href="Developer/">developer documentation</a></p>
<h2 id="general-usage">General Usage</h2>
<p>QUIT programs take their input as a combination of command-line arguments and text files passed to <code>stdin</code>. If you run a QUIT program with no arguments then will see a message like this:</p>
<pre><code class="bash">~: qidespot1
SPGR FILE was not specified. Use --help to see usage.
&gt;
</code></pre>

<p>If you then run it with <code>--help</code>, you will see some usage instructions:</p>
<pre><code class="bash">~: qidespot1 --help
  qidespot1 {OPTIONS} [SPGR FILE]

    Calculates T1 maps from SPGR data
    http://github.com/spinicist/QUIT

  OPTIONS:

      SPGR FILE                         Path to SPGR data
      -h, --help                        Show this help message
      -v, --verbose                     Print more information
      -T[THREADS], --threads=[THREADS]  Use N threads (default=4, 0=hardware
                                        limit)
      -o[OUTPREFIX], --out=[OUTPREFIX]  Add a prefix to output filenames
      -b[B1], --B1=[B1]                 B1 map (ratio) file
      -m[MASK], --mask=[MASK]           Only process voxels within the mask
      -s[SUBREGION],
      --subregion=[SUBREGION]           Process subregion starting at voxel
                                        I,J,K with size SI,SJ,SK
      -r, --resids                      Write out residuals for each data-point
      -a[ALGO], --algo=[ALGO]           Choose algorithm (l/w/n)
      -i[ITERS], --its=[ITERS]          Max iterations for WLLS/NLLS (default
                                        15)
      -p[CLAMP PD], --clampPD=[CLAMP
      PD]                               Clamp PD between 0 and value
      -t[CLAMP T1], --clampT2=[CLAMP
      T1]                               Clamp T1 between 0 and value
      &quot;--&quot; can be used to terminate flag options and force all following
      arguments to be treated as positional options
</code></pre>

<p>The first line shows that DESPOT1 expects a single input image, in this case SPGR/FLASH/FFE, specified on the command line. However, if you naively run:</p>
<pre><code class="bash">~: qidespot1 some_spgr_data.nii.gz
</code></pre>

<p>Nothing will happen. This is because most imaging formats do not store parameters that are required for quantitative imaging, e.g. the repetition time and flip-angles in their headers. QUIT programs hence expect to read this information in a text file passed to <code>stdin</code>. If you create a small text file <code>spgr.txt</code> containing the following:</p>
<pre><code class="json">{
    &quot;SPGR&quot;: {
        &quot;TR&quot;: 0.01,
        &quot;FA&quot;: [3, 18]
    }
}
</code></pre>

<p>and run the following:</p>
<pre><code class="bash">~: qidespot1 some_spgr_data.nii.gz &lt; spgr.txt
</code></pre>

<p>then (provided your input data does contain two volumes corresponding to flip-angles 3 and 18 degrees) then DESPOT1 will run, and you should see two files created (<code>D1_T1.nii.gz</code> and <code>D1_PD.nii.gz</code>). If you want to see what the programs are doing while running, specify the <code>--verbose</code> or <code>-v</code> options.</p>
<h2 id="file-formats">File Formats</h2>
<p>By default, QUIT is compiled with support for NIFTI and NRRD formats. The preferred file-format is NIFTI for compatibility with FSL and SPM. By default QUIT will output <code>.nii.gz</code> files. This can be controlled by the <code>QUIT_EXT</code> environment variable. Valid values for this are any file extension supported by ITK that QUIT has been compiled to support, e.g. <code>.nii</code> or <code>.nrrd</code>, or the FSL values <code>NIFTI</code>, <code>NIFTI_PAIR</code>, <code>NIFTI_GZ</code>, <code>NIFTI_PAIR_GZ</code>.</p>
<p>The <a href="http://itk.org">ITK</a> library supports a much wider variety of file formats, but adding support for all of these almost triples the size of the compiled binaries. Hence by default they are excluded. You can add support for more file formats by compiling QUIT yourself, see the <a href="Developer/">developer documentation</a>. Note that ITK cannot write every format it can read (e.g. it can read Bruker 2dseq datasets, but it cannot write them).</p>
<h2 id="scripting">Scripting</h2>
<p>The QUIT tools are designed to be used inside shell scripts or SGE jobs. 3 scripts are provided along with the binaries. <code>qi_composer.sh</code> uses the <code>qi_coil_combine</code> program to correctly combine complex data from multiple element RF coils. <code>qi_example_mcd_b1.sh</code> and <code>qi_example_mcd_hifi.sh</code> give example mcDESPOT processing pipelines. The first assumes that you have a good B1 map and have already registered all the input volumes to a common reference. The second shows one of doing this using FSL. Registration is beyond the scope of QUIT, so you must have additional tools installed for this.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2018 Tobias Wood tobias.wood@kcl.ac.uk</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '.';</script>
        <script src="./js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="./search/require.js"></script>
        <script src="./search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>

<!--
MkDocs version : 0.17.3
Build Date UTC : 2018-03-23 21:43:13
-->
